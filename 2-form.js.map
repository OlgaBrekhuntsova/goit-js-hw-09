{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst formEle = document.querySelector('.feedback-form');\nlet formData = new FormData();\n\nfunction saveToLS(key, value) {\n  const valueAsJSON = JSON.stringify(value);\n  localStorage.setItem(key, valueAsJSON);\n}\n\nfunction getFromLS(key) {\n  const valueAsJSON = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(valueAsJSON);\n  } catch {\n    return valueAsJSON;\n  }\n}\n\nfunction getFormValues(formDataObj) {\n  return {\n    email: formDataObj.get('email'),\n    message: formDataObj.get('message').trim(),\n  };\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedData = getFromLS(STORAGE_KEY);\n  formData.set('email', savedData?.email || '');\n  formData.set('message', savedData?.message || '');\n  formEle.elements.email.value = formData.get('email');\n  formEle.elements.message.value = formData.get('message');\n});\n\nformEle.addEventListener('submit', e => {\n  e.preventDefault();\n\n  formData = new FormData(formEle);\n  const values = getFormValues(formData);\n  if (!(values.email && values.message)) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(values);\n  formData = new FormData();\n  localStorage.removeItem(STORAGE_KEY);\n  formEle.reset();\n});\n\nformEle.addEventListener('input', () => {\n  formData = new FormData(formEle);\n  const values = getFormValues(formData);\n  saveToLS(STORAGE_KEY, values);\n});\n"],"names":["STORAGE_KEY","formEle","formData","saveToLS","key","value","valueAsJSON","getFromLS","getFormValues","formDataObj","savedData","values"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAU,SAAS,cAAc,gBAAgB,EACvD,IAAIC,EAAW,IAAI,SAEnB,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAc,KAAK,UAAUD,CAAK,EACxC,aAAa,QAAQD,EAAKE,CAAW,CACvC,CAEA,SAASC,EAAUH,EAAK,CACtB,MAAME,EAAc,aAAa,QAAQF,CAAG,EAE5C,GAAI,CACF,OAAO,KAAK,MAAME,CAAW,CAC/B,MAAQ,CACN,OAAOA,CACT,CACF,CAEA,SAASE,EAAcC,EAAa,CAClC,MAAO,CACL,MAAOA,EAAY,IAAI,OAAO,EAC9B,QAASA,EAAY,IAAI,SAAS,EAAE,KAAI,CAC5C,CACA,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAYH,EAAUP,CAAW,EACvCE,EAAS,IAAI,QAASQ,GAAW,OAAS,EAAE,EAC5CR,EAAS,IAAI,UAAWQ,GAAW,SAAW,EAAE,EAChDT,EAAQ,SAAS,MAAM,MAAQC,EAAS,IAAI,OAAO,EACnDD,EAAQ,SAAS,QAAQ,MAAQC,EAAS,IAAI,SAAS,CACzD,CAAC,EAEDD,EAAQ,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAEhBC,EAAW,IAAI,SAASD,CAAO,EAC/B,MAAMU,EAASH,EAAcN,CAAQ,EACrC,GAAI,EAAES,EAAO,OAASA,EAAO,SAAU,CACrC,MAAM,wBAAwB,EAC9B,MACF,CACA,QAAQ,IAAIA,CAAM,EAClBT,EAAW,IAAI,SACf,aAAa,WAAWF,CAAW,EACnCC,EAAQ,MAAK,CACf,CAAC,EAEDA,EAAQ,iBAAiB,QAAS,IAAM,CACtCC,EAAW,IAAI,SAASD,CAAO,EAC/B,MAAMU,EAASH,EAAcN,CAAQ,EACrCC,EAASH,EAAaW,CAAM,CAC9B,CAAC"}