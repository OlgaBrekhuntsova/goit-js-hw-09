{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nfunction saveToLS(key, value) {\n  const valueAsJSON = JSON.stringify(value);\n  localStorage.setItem(key, valueAsJSON);\n}\n\nfunction getFromLS(key) {\n  const valueAsJSON = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(valueAsJSON);\n  } catch {\n    return valueAsJSON;\n  }\n}\n\nconst formEle = document.querySelector('.feedback-form');\n\nfunction getFormValues(formDataObj) {\n  return {\n    email: formDataObj.get('email'),\n    message: formDataObj.get('message').trim(),\n  };\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const data = getFromLS(STORAGE_KEY);\n  formEle.elements.email.value = data?.email || '';\n  formEle.elements.message.value = data?.message || '';\n});\n\nformEle.addEventListener('submit', e => {\n  e.preventDefault();\n\n  let formData = new FormData(formEle);\n  const values = getFormValues(formData);\n  if (!(values.email && values.message)) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(values);\n  formData = new FormData();\n  localStorage.removeItem(STORAGE_KEY);\n  formEle.reset();\n});\n\nformEle.addEventListener('input', () => {\n  const formData = new FormData(formEle);\n  const values = getFormValues(formData);\n  saveToLS(STORAGE_KEY, values);\n});\n"],"names":["STORAGE_KEY","saveToLS","key","value","valueAsJSON","getFromLS","formEle","getFormValues","formDataObj","data","formData","values"],"mappings":"wFAAA,MAAMA,EAAc,sBAEpB,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAc,KAAK,UAAUD,CAAK,EACxC,aAAa,QAAQD,EAAKE,CAAW,CACvC,CAEA,SAASC,EAAUH,EAAK,CACtB,MAAME,EAAc,aAAa,QAAQF,CAAG,EAE5C,GAAI,CACF,OAAO,KAAK,MAAME,CAAW,CAC/B,MAAQ,CACN,OAAOA,CACT,CACF,CAEA,MAAME,EAAU,SAAS,cAAc,gBAAgB,EAEvD,SAASC,EAAcC,EAAa,CAClC,MAAO,CACL,MAAOA,EAAY,IAAI,OAAO,EAC9B,QAASA,EAAY,IAAI,SAAS,EAAE,KAAI,CAC5C,CACA,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAOJ,EAAUL,CAAW,EAClCM,EAAQ,SAAS,MAAM,MAAQG,GAAM,OAAS,GAC9CH,EAAQ,SAAS,QAAQ,MAAQG,GAAM,SAAW,EACpD,CAAC,EAEDH,EAAQ,iBAAiB,SAAU,GAAK,CACtC,EAAE,eAAc,EAEhB,IAAII,EAAW,IAAI,SAASJ,CAAO,EACnC,MAAMK,EAASJ,EAAcG,CAAQ,EACrC,GAAI,EAAEC,EAAO,OAASA,EAAO,SAAU,CACrC,MAAM,wBAAwB,EAC9B,MACF,CACA,QAAQ,IAAIA,CAAM,EAClBD,EAAW,IAAI,SACf,aAAa,WAAWV,CAAW,EACnCM,EAAQ,MAAK,CACf,CAAC,EAEDA,EAAQ,iBAAiB,QAAS,IAAM,CACtC,MAAMI,EAAW,IAAI,SAASJ,CAAO,EAC/BK,EAASJ,EAAcG,CAAQ,EACrCT,EAASD,EAAaW,CAAM,CAC9B,CAAC"}